<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>خدمات مكتب أور الإلكترونية</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet" />

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <!-- Favicon -->
  <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/c/c8/Utbildningsradion_-_logo.png" type="image/png" />

  <style>
    :root {
      --primary: #4361ee;
      --primary-dark: #3a0ca3;
      --secondary: #7209b7;
      --accent: #4cc9f0;
      --dark: #0d1b2a;
      --dark-light: #1b263b;
      --light: #f8f9fa;
      --success: #4ade80;
      --warning: #facc15;
      --danger: #f87171;
      --gray: #6b7280;
      --card-bg: rgba(255, 255, 255, 0.08);
      --card-border: rgba(255, 255, 255, 0.12);
      --header-height: 70px;
      --sidebar-width: 280px;
    }
    
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
    }
    
    html, body {
      height: 100%;
      background: linear-gradient(160deg, var(--dark), var(--dark-light));
      font-family: 'Cairo', sans-serif;
      color: white;
      direction: rtl;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
    }
    
    /* شاشة الافتتاح */
    .splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(160deg, var(--dark), var(--dark-light));
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      transition: opacity 0.8s ease, visibility 0.8s ease;
    }
    
    .splash-screen.hidden {
      opacity: 0;
      visibility: hidden;
    }
    
    .logo-container {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .logo {
      font-size: 4.5rem;
      font-weight: 800;
      background: linear-gradient(90deg, #4cc9f0, #4361ee, #7209b7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 20px;
      text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    
    .typing-text-splash {
      font-size: 2.2rem;
      font-weight: 600;
      height: 60px;
      overflow: hidden;
      position: relative;
      text-align: center;
      margin-bottom: 20px;
    }
    
    .typing-text-splash span {
      display: inline-block;
      overflow: hidden;
      animation: typing 2.5s steps(30, end) forwards, blink 0.7s infinite;
      white-space: nowrap;
      border-right: 3px solid #4cc9f0;
      width: 0;
    }
    
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    
    @keyframes blink {
      from, to { border-color: transparent }
      50% { border-color: #4cc9f0 }
    }
    
    .version {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.2rem;
      color: rgba(255, 255, 255, 0.7);
      background: rgba(0, 0, 0, 0.3);
      padding: 8px 16px;
      border-radius: 20px;
    }
    
    .loading-bar {
      width: 200px;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 2px;
      overflow: hidden;
      margin-top: 20px;
    }
    
    .loading-progress {
      height: 100%;
      width: 0%;
      background: linear-gradient(to right, #4cc9f0, #4361ee);
      border-radius: 2px;
      transition: width 0.3s ease;
    }
    
    .loading-text {
      margin-top: 10px;
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.7);
    }
    
    /* Header Styles - محسّن */
    header {
      position: fixed; 
      top: 0; 
      left: 0; 
      right: 0;
      height: var(--header-height);
      background: rgba(26, 36, 61, 0.95);
      backdrop-filter: blur(12px);
      display: flex; 
      align-items: center; 
      justify-content: center;
      z-index: 100;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
      padding: 0 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.07);
    }
    
    .typing-text {
      position: relative; 
      min-width: 200px; 
      height: 40px; 
      overflow: hidden;
      text-align: center;
    }
    
    .typing-text span {
      position: absolute; 
      top: 0; 
      left: 0;
      opacity: 0; 
      transform: translateY(15px);
      transition: opacity 0.6s ease, transform 0.6s ease;
      width: 100%; 
      text-align: center;
      font-size: 1.3rem;
      font-weight: 800;
      background: linear-gradient(to right, #fff, #c0d4ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 2px 10px rgba(76, 201, 240, 0.3);
    }
    
    .typing-text span.active {
      opacity: 1; 
      transform: translateY(0); 
      z-index: 1;
    }
    
    /* Main Content - محسّن */
    main {
      margin-top: var(--header-height);
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      -webkit-overflow-scrolling: touch;
    }
    
    /* تحسينات على قسم الترحيب */
    .hero {
      background: linear-gradient(135deg, rgba(67, 97, 238, 0.2), rgba(114, 9, 183, 0.2));
      border-radius: 24px;
      padding: 40px 30px;
      text-align: center;
      margin-bottom: 20px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(15px);
      position: relative;
      overflow: hidden;
      min-height: 200px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(76, 201, 240, 0.1) 0%, transparent 70%);
      animation: pulse 8s infinite linear;
    }
    
    @keyframes pulse {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .hero h1 {
      font-size: 2.5rem;
      margin-bottom: 15px;
      background: linear-gradient(to right, #fff, #a0bfff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      position: relative;
      z-index: 1;
      line-height: 1.3;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }
    
    .hero p {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.3rem;
      line-height: 1.7;
      max-width: 800px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
      font-weight: 400;
    }
    
    /* نص التحية المتحرك - محسّن */
    .welcome-text {
      position: relative;
      text-align: center;
      margin-bottom: 30px;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .welcome-message {
      font-size: 2.2rem;
      font-weight: 700;
      background: linear-gradient(90deg, #4cc9f0, #4361ee, #7209b7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      position: relative;
      display: inline-block;
      padding: 0 20px;
    }
    
    .welcome-message::after {
      content: '|';
      animation: blink 1s infinite;
      margin-right: 5px;
      color: #4cc9f0;
    }
    
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }
    
    /* تصميم جديد ومحسّن للأزرار - مصغّر */
    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .service-card {
      background: var(--card-bg);
      border-radius: 18px;
      padding: 20px;
      border: 1px solid var(--card-border);
      backdrop-filter: blur(12px);
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    }
    
    .service-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(67, 97, 238, 0.1), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .service-card:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
      border-color: rgba(76, 201, 240, 0.4);
    }
    
    .service-card:hover::before {
      opacity: 1;
    }
    
    /* تصميم محسّن للأيقونات - مصغّر */
    .service-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 15px;
      font-size: 1.6rem;
      box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
      transition: all 0.3s ease;
      position: relative;
      z-index: 2;
    }
    
    .service-card:hover .service-icon {
      transform: scale(1.05) rotate(3deg);
      box-shadow: 0 10px 20px rgba(67, 97, 238, 0.5);
    }
    
    .service-title {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: white;
      position: relative;
      z-index: 2;
    }
    
    .service-description {
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.9rem;
      line-height: 1.5;
      margin-bottom: 15px;
      flex-grow: 1;
      position: relative;
      z-index: 2;
    }
    
    .service-action {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: auto;
      position: relative;
      z-index: 2;
    }
    
    /* تصميم محسّن للأزرار - مصغّر */
    .service-btn {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.85rem;
      pointer-events: auto;
      box-shadow: 0 3px 10px rgba(67, 97, 238, 0.3);
      position: relative;
      overflow: hidden;
    }
    
    .service-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }
    
    .service-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(67, 97, 238, 0.4);
    }
    
    .service-btn:hover::before {
      left: 100%;
    }
    
    .service-status {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.8);
    }
    
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--success);
      box-shadow: 0 0 8px var(--success);
      animation: pulse-dot 2s infinite;
    }
    
    @keyframes pulse-dot {
      0% { box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.7); }
      70% { box-shadow: 0 0 0 6px rgba(74, 222, 128, 0); }
      100% { box-shadow: 0 0 0 0 rgba(74, 222, 128, 0); }
    }
    
    .status-dot.offline {
      background: var(--danger);
      box-shadow: 0 0 8px var(--danger);
      animation: pulse-dot-offline 2s infinite;
    }
    
    @keyframes pulse-dot-offline {
      0% { box-shadow: 0 0 0 0 rgba(248, 113, 113, 0.7); }
      70% { box-shadow: 0 0 0 6px rgba(248, 113, 113, 0); }
      100% { box-shadow: 0 0 0 0 rgba(248, 113, 113, 0); }
    }
    
    /* قسم الميزات - محسّن */
    .features-section {
      background: rgba(255, 255, 255, 0.03);
      border-radius: 24px;
      padding: 30px 25px;
      margin-bottom: 30px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    
    .section-title {
      font-size: 1.5rem;
      margin-bottom: 20px;
      text-align: center;
      color: white;
      position: relative;
      display: inline-block;
      margin-right: auto;
      margin-left: auto;
      width: 100%;
      font-weight: 700;
    }
    
    .section-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      right: 50%;
      transform: translateX(50%);
      width: 70px;
      height: 3px;
      background: linear-gradient(to right, var(--primary), var(--accent));
      border-radius: 2px;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 20px;
    }
    
    .feature-item {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      padding: 18px;
      border-radius: 14px;
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.03);
    }
    
    .feature-item:hover {
      background: rgba(255, 255, 255, 0.06);
      transform: translateY(-3px);
    }
    
    .feature-icon {
      width: 50px;
      height: 50px;
      background: rgba(76, 201, 240, 0.15);
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      color: var(--accent);
      flex-shrink: 0;
      transition: all 0.3s ease;
    }
    
    .feature-item:hover .feature-icon {
      transform: scale(1.05);
      background: rgba(76, 201, 240, 0.25);
    }
    
    .feature-content h3 {
      font-size: 1.1rem;
      margin-bottom: 6px;
      color: white;
      font-weight: 600;
    }
    
    .feature-content p {
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.5;
    }
    
    /* Footer محسّن */
    footer {
      text-align: center;
      padding: 25px;
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.7);
      background: rgba(0, 0, 0, 0.2);
      border-top: 1px solid rgba(255, 255, 255, 0.05);
      margin-top: auto;
    }
    
    /* تحسينات للخدمات المميزة */
    .service-card.popular-service {
      border: 1px solid rgba(255, 204, 0, 0.3);
      position: relative;
      overflow: visible;
    }
    
    .service-card.popular-service::after {
      content: 'مميز';
      position: absolute;
      top: -8px;
      left: 15px;
      background: linear-gradient(135deg, var(--warning), #f59e0b);
      color: #000;
      font-size: 0.7rem;
      font-weight: 700;
      padding: 3px 10px;
      border-radius: 15px;
      z-index: 3;
    }
    
    /* تصميم محسّن لحالة التحميل */
    .loading {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 30px;
      color: rgba(255, 255, 255, 0.7);
    }
    
    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255, 255, 255, 0.1);
      border-left: 4px solid var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 10px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Responsive Design - محسّن */
    @media screen and (max-width: 1024px) {
      .services-grid {
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 18px;
      }
    }
    
    @media screen and (max-width: 768px) {
      :root {
        --header-height: 65px;
      }
      
      header {
        padding: 0 15px;
      }
      
      .typing-text {
        min-width: 180px;
        height: 35px;
      }
      
      .typing-text span {
        font-size: 1.1rem;
      }
      
      main {
        padding: 15px;
        gap: 15px;
      }
      
      .hero {
        padding: 25px 20px;
        border-radius: 20px;
        min-height: 170px;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .hero p {
        font-size: 1.1rem;
      }
      
      .welcome-message {
        font-size: 1.8rem;
      }
      
      .services-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .service-card {
        padding: 18px;
      }
      
      .service-icon {
        width: 55px;
        height: 55px;
        font-size: 1.5rem;
      }
      
      /* شاشة الافتتاح للجوال */
      .logo {
        font-size: 3.5rem;
      }
      
      .typing-text-splash {
        font-size: 1.8rem;
        height: 50px;
      }
    }
    
    @media screen and (max-width: 480px) {
      header {
        height: 60px;
      }
      
      .typing-text span {
        font-size: 1rem;
      }
      
      main {
        margin-top: 60px;
        padding: 12px;
      }
      
      .hero {
        padding: 20px 15px;
        border-radius: 16px;
        min-height: 150px;
      }
      
      .hero h1 {
        font-size: 1.7rem;
      }
      
      .hero p {
        font-size: 1rem;
      }
      
      .welcome-message {
        font-size: 1.5rem;
        padding: 0 10px;
      }
      
      .service-card {
        padding: 16px;
      }
      
      .service-icon {
        width: 50px;
        height: 50px;
        font-size: 1.4rem;
        margin-bottom: 12px;
      }
      
      .service-title {
        font-size: 1.1rem;
      }
      
      .service-btn {
        padding: 7px 14px;
        font-size: 0.8rem;
      }
      
      .features-section {
        padding: 20px 15px;
      }
      
      .features-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .feature-item {
        padding: 15px;
      }
      
      /* شاشة الافتتاح للجوال */
      .logo {
        font-size: 2.8rem;
      }
      
      .typing-text-splash {
        font-size: 1.5rem;
        height: 40px;
      }
      
      .version {
        font-size: 1rem;
      }
    }
    
    /* Animation for cards when they load */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .service-card, .feature-item {
      animation: fadeInUp 0.5s ease forwards;
    }
    
    /* Scrollbar styling */
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.1);
    }
    
    ::-webkit-scrollbar-thumb {
      background: rgba(67, 97, 238, 0.4);
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(67, 97, 238, 0.6);
    }
  </style>
</head>

<body>
  <!-- شاشة الافتتاح -->
  <div class="splash-screen" id="splashScreen">
    <div class="logo-container">
      <div class="logo">أور</div>
      <div class="typing-text-splash">
        <span id="typingText">مكتب أور للخدمات الإلكترونية</span>
      </div>
    </div>
    <div class="loading-bar">
      <div class="loading-progress" id="loadingProgress"></div>
    </div>
    <div class="loading-text" id="loadingText">جاري التحميل...</div>
    <div class="version">الإصدار 2.3</div>
  </div>

  <!-- المحتوى الرئيسي -->
  <header>
    <div class="typing-text" aria-live="polite" aria-atomic="true">
      <span class="active">مكتب أور</span>
      <span>للخدمات الإلكترونية</span>
      <span>نحن نعمل لخدمتكم</span>
      <span>24 ساعة</span>
      <span>على مدار الأسبوع</span>
    </div>
  </header>

  <main>
    <!-- نص التحية المتحرك - محسّن -->
    <div class="welcome-text">
      <div class="welcome-message" id="welcomeMessage">مرحباً بكم في مكتب أور الإلكتروني</div>
    </div>
    
    <section class="hero">
      <h1>مكتب أور للخدمات الإلكترونية</h1>
      <p>نقدم لكم مجموعة متكاملة من الخدمات الإلكترونية بأعلى معايير الجودة والاحترافية</p>
    </section>
    
    <!-- قسم الخدمات - محسّن -->
    <div class="features-section">
      <h2 class="section-title">خدماتنا</h2>
      <div id="buttons-container">
        <div class="loading">
          <div class="spinner"></div>
          <p>جاري تحميل الخدمات...</p>
        </div>
      </div>
    </div>
    
    <!-- قسم الميزات - محسّن -->
    <div class="features-section">
      <h2 class="section-title">مميزات مكتب أور</h2>
      <div class="features-grid">
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-shield-alt"></i>
          </div>
          <div class="feature-content">
            <h3>أمان وحماية</h3>
            <p>نضمن حماية بياناتك ومعاملاتك بأعلى معايير الأمان الإلكتروني</p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-clock"></i>
          </div>
          <div class="feature-content">
            <h3>خدمة 24/7</h3>
            <p>خدمة عملاء متاحة على مدار الساعة طوال أيام الأسبوع</p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-bolt"></i>
          </div>
          <div class="feature-content">
            <h3>سرعة في الأداء</h3>
            <p>إنجاز الخدمات في أسرع وقت ممكن مع الحفاظ على الجودة</p>
          </div>
        </div>
        <div class="feature-item">
          <div class="feature-icon">
            <i class="fas fa-hand-holding-usd"></i>
          </div>
          <div class="feature-content">
            <h3>أسعار تنافسية</h3>
            <p>أسعارنا مناسبة للجميع مع عروض وتخفيضات مستمرة</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <p>جميع الحقوق محفوظة © مكتب أور 2025</p>
  </footer>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDQES1QM4s9yDJ49hldDwI_ictXZDciPCk",
      authDomain: "ur111-824e3.firebaseapp.com",
      projectId: "ur111-824e3",
      storageBucket: "ur111-824e3.appspot.com",
      messagingSenderId: "310052619923",
      appId: "1:310052619923:web:4f3a1f37932d4ca1506f66",
      measurementId: "G-7SMM3VWNT2"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const buttonsContainer = document.getElementById('buttons-container');
    const welcomeMessage = document.getElementById('welcomeMessage');
    const texts = document.querySelectorAll('.typing-text span');
    const splashScreen = document.getElementById('splashScreen');
    const loadingProgress = document.getElementById('loadingProgress');
    const loadingText = document.getElementById('loadingText');
    let current = 0;
    
    // دالة لتحديث شريط التقدم
    function updateProgress(percent) {
      loadingProgress.style.width = percent + '%';
    }
    
    // دالة لإخفاء شاشة الافتتاح
    function hideSplashScreen() {
      splashScreen.classList.add('hidden');
      setTimeout(() => {
        splashScreen.style.display = 'none';
      }, 800);
    }
    
    // محاكاة تحميل يعتمد على سرعة النت
    function simulateLoading() {
      let progress = 0;
      const interval = setInterval(() => {
        progress += Math.random() * 15; // سرعة عشوائية تعتمد على النت
        if (progress >= 100) {
          progress = 100;
          clearInterval(interval);
        }
        updateProgress(progress);
        
        if (progress >= 30) loadingText.textContent = "جاري تحميل البيانات...";
        if (progress >= 70) loadingText.textContent = "جاري تهيئة الواجهة...";
        if (progress >= 90) loadingText.textContent = "جاري الإنهاء...";
      }, 300);
    }
    
    // بدء محاكاة التحميل
    simulateLoading();
    
    // حركة النص الترحيبي
    const welcomeMessages = [
      "مرحباً بكم في مكتب أور الإلكتروني",
      "نحن هنا لخدمتكم على مدار الساعة",
      "أفضل الخدمات الإلكترونية بين يديك",
      "نسعى دائماً لرضاكم وتلبية احتياجاتكم"
    ];
    
    let welcomeIndex = 0;
    
    function changeWelcomeMessage() {
      welcomeMessage.style.opacity = 0;
      setTimeout(() => {
        welcomeIndex = (welcomeIndex + 1) % welcomeMessages.length;
        welcomeMessage.textContent = welcomeMessages[welcomeIndex];
        welcomeMessage.style.opacity = 1;
      }, 500);
    }
    
    // تغيير نص الترحيب كل 5 ثوان
    setInterval(changeWelcomeMessage, 5000);
    
    // حركة الشريط العلوي
    setInterval(() => {
      texts[current].classList.remove('active');
      current = (current + 1) % texts.length;
      texts[current].classList.add('active');
    }, 4000);

    // دالة للحصول على الأيقونة المناسبة بناءً على اسم الخدمة
    function getIconForService(serviceName) {
      const name = serviceName.toLowerCase();
      
      if (name.includes('دفع') || name.includes('مال') || name.includes('دفعة') || name.includes('فاتورة')) 
        return 'fas fa-credit-card';
      if (name.includes('استعلام') || name.includes('سؤال') || name.includes('معلومات')) 
        return 'fas fa-info-circle';
      if (name.includes('طلب') || name.includes('احتياج') || name.includes('شراء')) 
        return 'fas fa-clipboard-list';
      if (name.includes('تواصل') || name.includes('اتصال') || name.includes('دعم')) 
        return 'fas fa-headset';
      if (name.includes('حجز') || name.includes('موعد') || name.includes('مقابلة')) 
        return 'fas fa-calendar-check';
      if (name.includes('تسجيل') || name.includes('حساب') || name.includes('مستخدم')) 
        return 'fas fa-user-plus';
      if (name.includes('تقرير') || name.includes('إحصائية') || name.includes('بيانات')) 
        return 'fas fa-chart-bar';
      if (name.includes('بطاقة') || name.includes('هوية') || name.includes('تعريف')) 
        return 'fas fa-address-card';
      if (name.includes('معاملة') || name.includes('معاملات') || name.includes('إجراء')) 
        return 'fas fa-file-contract';
      if (name.includes('وثيقة') || name.includes('مستند') || name.includes('ملف')) 
        return 'fas fa-file-alt';
      if (name.includes('تعديل') || name.includes('تغيير') || name.includes('تحرير')) 
        return 'fas fa-edit';
      if (name.includes('بحث') || name.includes('عن') || name.includes('بحث عن')) 
        return 'fas fa-search';
      if (name.includes('إشعار') || name.includes('تنبيه') || name.includes('إعلام')) 
        return 'fas fa-bell';
      if (name.includes('إعدادات') || name.includes('خصائص') || name.includes('تهيئة')) 
        return 'fas fa-cog';
      if (name.includes('مساعدة') || name.includes('دليل') || name.includes('تعليمات')) 
        return 'fas fa-question-circle';
      if (name.includes('تقييم') || name.includes('رأي') || name.includes('تقييم خدمة')) 
        return 'fas fa-star';
      
      // إذا لم يتم العثور على تطابق، نعيد أيقونة افتراضية
      return 'fas fa-concierge-bell';
    }

    // دالة لإنشاء وصف عشوائي للخدمة
    function generateServiceDescription(serviceName) {
      const descriptions = [
        
      ];
      return descriptions[Math.floor(Math.random() * descriptions.length)];
    }

    async function loadButtonsData() {
      try {
        const docRef = doc(db, "serviceControl", "buttonsData");
        const snapshot = await getDoc(docRef);
        const data = snapshot.exists() ? snapshot.data().buttons : [];
        
        // إخفاء شاشة الافتتاح بعد تحميل البيانات
        updateProgress(100);
        setTimeout(hideSplashScreen, 500);
        
        renderButtons(Array.isArray(data) ? data : []);
      } catch (err) {
        console.error("Firebase load error:", err);
        
        // إخفاء شاشة الافتتاح حتى في حالة الخطأ
        updateProgress(100);
        setTimeout(hideSplashScreen, 500);
        
        buttonsContainer.innerHTML = '<p style="color:lightgray; text-align:center; padding: 20px;">حدث خطأ في تحميل الخدمات.</p>';
      }
    }

    function renderButtons(buttonsData) {
      buttonsContainer.innerHTML = '';
      
      if (!buttonsData.length) {
        buttonsContainer.innerHTML = '<p style="color:lightgray; text-align:center; padding: 20px;">لا توجد خدمات حالياً.</p>';
        return;
      }
      
      // إنشاء grid للخدمات
      const servicesGrid = document.createElement('div');
      servicesGrid.className = 'services-grid';
      
      buttonsData.forEach((btn, index) => {
        if (!btn.active) return;
        
        const serviceCard = document.createElement('div');
        serviceCard.className = 'service-card';
        serviceCard.style.animationDelay = `${index * 0.1}s`;
        
        // إضافة فئة خاصة للخدمات المميزة
        if (btn.popular) {
          serviceCard.classList.add('popular-service');
        }
        
        // أيقونة الخدمة
        const serviceIcon = document.createElement('div');
        serviceIcon.className = 'service-icon';
        const iconElement = document.createElement('i');
        iconElement.className = getIconForService(btn.name || 'خدمة');
        serviceIcon.appendChild(iconElement);
        
        // عنوان الخدمة
        const serviceTitle = document.createElement('h3');
        serviceTitle.className = 'service-title';
        serviceTitle.textContent = btn.name || 'خدمة';
        
        // وصف الخدمة
        const serviceDescription = document.createElement('p');
        serviceDescription.className = 'service-description';
        serviceDescription.textContent = generateServiceDescription(btn.name || 'خدمة');
        
        // قسم الإجراءات
        const serviceAction = document.createElement('div');
        serviceAction.className = 'service-action';
        
        // زر الإجراء
        const serviceBtn = document.createElement('button');
        serviceBtn.className = 'service-btn';
        serviceBtn.innerHTML = `${btn.paused ? 'غير متاح' : 'استخدم الخدمة'} <i class="fas fa-arrow-left"></i>`;
        
        // حالة الخدمة
        const serviceStatus = document.createElement('div');
        serviceStatus.className = 'service-status';
        const statusDot = document.createElement('div');
        statusDot.className = `status-dot ${btn.paused ? 'offline' : ''}`;
        const statusText = document.createElement('span');
        statusText.textContent = btn.paused ? 'غير متاح' : 'متاح الآن';
        
        serviceStatus.appendChild(statusDot);
        serviceStatus.appendChild(statusText);
        
        serviceAction.appendChild(serviceBtn);
        serviceAction.appendChild(serviceStatus);
        
        // إضافة جميع العناصر إلى البطاقة
        serviceCard.appendChild(serviceIcon);
        serviceCard.appendChild(serviceTitle);
        serviceCard.appendChild(serviceDescription);
        serviceCard.appendChild(serviceAction);
        
        // إضافة حدث النقر على البطاقة بأكملها
        if (!btn.paused) {
          serviceCard.onclick = () => btn.url && window.open(btn.url, '_blank');
          serviceBtn.onclick = (e) => {
            e.stopPropagation(); // منع تنفيذ الحدث على البطاقة
            btn.url && window.open(btn.url, '_blank');
          };
        } else {
          serviceCard.style.cursor = 'not-allowed';
          serviceCard.style.opacity = '0.7';
          serviceBtn.style.background = 'var(--gray)';
          serviceBtn.style.cursor = 'not-allowed';
          
          serviceCard.onclick = (e) => {
            e.preventDefault();
            alert('عذراً، هذه الخدمة مؤقتاً غير متوفرة');
          };
          
          serviceBtn.onclick = (e) => {
            e.stopPropagation();
            e.preventDefault();
            alert('عذراً، هذه الخدمة مؤقتاً غير متوفرة');
          };
        }
        
        servicesGrid.appendChild(serviceCard);
      });
      
      buttonsContainer.appendChild(servicesGrid);
    }

    // تحميل البيانات عند بدء التشغيل
    loadButtonsData();
  </script>
</body>
</html>
