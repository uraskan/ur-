<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>خدمات مكتب أور الإلكترونية</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet" />

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <!-- Favicon -->
  <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/c/c8/Utbildningsradion_-_logo.png" type="image/png" />

  <style>
    :root {
      --primary: #4361ee;
      --primary-dark: #3a0ca3;
      --secondary: #7209b7;
      --accent: #4cc9f0;
      --dark: #0d1b2a;
      --dark-light: #1b263b;
      --light: #f8f9fa;
      --success: #4ade80;
      --warning: #facc15;
      --danger: #f87171;
      --gray: #6b7280;
      --card-bg: rgba(255, 255, 255, 0.08);
      --card-border: rgba(255, 255, 255, 0.12);
      --header-height: 70px;
    }
    
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
      -webkit-tap-highlight-color: transparent; /* إزالة التمييز عند النقر */
      -webkit-touch-callout: none; /* منع قائمة النص في WebView */
      -webkit-user-select: none; /* منع تحديد النص في WebView */
      user-select: none;
    }
    
    html, body {
      height: 100%;
      background: linear-gradient(160deg, var(--dark), var(--dark-light));
      font-family: 'Cairo', sans-serif;
      color: white;
      direction: rtl;
      overflow-x: hidden;
      /* تحسينات التمرير لـ WebView */
      -webkit-overflow-scrolling: touch; /* التمرير السلس في iOS */
      overflow-scrolling: touch;
      touch-action: pan-y; /* السماح بالتمرير العمودي فقط */
    }
    
    /* تحسينات التمرير لـ WebView */
    .scrollable {
      -webkit-overflow-scrolling: touch;
      overflow-scrolling: touch;
      overscroll-behavior: contain; /* منع تأثير rimble عند نهاية التمرير */
    }
    
    /* شاشة الافتتاح */
    .splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(160deg, var(--dark), var(--dark-light));
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      transition: opacity 0.8s ease, visibility 0.8s ease;
    }
    
    .splash-screen.hidden {
      opacity: 0;
      visibility: hidden;
    }
    
    .logo-container {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .logo {
      font-size: 4.5rem;
      font-weight: 800;
      background: linear-gradient(90deg, #4cc9f0, #4361ee, #7209b7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 20px;
      text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    
    .typing-text-splash {
      font-size: 2.2rem;
      font-weight: 600;
      height: 60px;
      overflow: hidden;
      position: relative;
      text-align: center;
      margin-bottom: 20px;
    }
    
    .typing-text-splash span {
      display: inline-block;
      overflow: hidden;
      animation: typing 2.5s steps(30, end) forwards, blink 0.7s infinite;
      white-space: nowrap;
      border-right: 3px solid #4cc9f0;
      width: 0;
    }
    
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    
    @keyframes blink {
      from, to { border-color: transparent }
      50% { border-color: #4cc9f0 }
    }
    
    .version {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.2rem;
      color: rgba(255, 255, 255, 0.7);
      background: rgba(0, 0, 0, 0.3);
      padding: 8px 16px;
      border-radius: 20px;
    }
    
    .loading-bar {
      width: 200px;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 2px;
      overflow: hidden;
      margin-top: 20px;
    }
    
    .loading-progress {
      height: 100%;
      width: 0%;
      background: linear-gradient(to right, #4cc9f0, #4361ee);
      border-radius: 2px;
      transition: width 0.3s ease;
    }
    
    .loading-text {
      margin-top: 10px;
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.7);
    }
    
    /* شاشة تسجيل الدخول */
    .login-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(160deg, var(--dark), var(--dark-light));
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
      padding: 20px;
      /* تحسينات التمرير لـ WebView */
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    .login-container {
      background: rgba(26, 36, 61, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 24px;
      padding: 40px;
      width: 100%;
      max-width: 450px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
      text-align: center;
    }
    
    .login-logo {
      font-size: 3.5rem;
      font-weight: 800;
      background: linear-gradient(90deg, #4cc9f0, #4361ee, #7209b7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 10px;
    }
    
    .login-title {
      font-size: 1.8rem;
      margin-bottom: 30px;
      color: white;
      font-weight: 700;
    }
    
    .form-group {
      margin-bottom: 20px;
      text-align: right;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.9);
    }
    
    .form-control {
      width: 100%;
      padding: 15px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.05);
      color: white;
      font-family: 'Cairo', sans-serif;
      font-size: 1rem;
      transition: all 0.3s ease;
      /* تحسينات لـ WebView */
      -webkit-appearance: none; /* إزالة المظهر الافتراضي في iOS */
      appearance: none;
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.3);
    }
    
    .remember-me {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 25px;
      justify-content: flex-end;
    }
    
    .remember-me input {
      width: 18px;
      height: 18px;
    }
    
    .submit-btn {
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Cairo', sans-serif;
      margin-bottom: 20px;
      /* تحسينات لـ WebView */
      -webkit-appearance: none;
      appearance: none;
    }
    
    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(67, 97, 238, 0.4);
    }
    
    .submit-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }
    
    .toggle-form {
      color: var(--accent);
      cursor: pointer;
      text-decoration: underline;
      font-weight: 600;
    }
    
    .alert {
      padding: 12px 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      font-size: 0.9rem;
      text-align: right;
    }
    
    .alert-success {
      background: rgba(74, 222, 128, 0.2);
      color: var(--success);
      border: 1px solid var(--success);
    }
    
    .alert-danger {
      background: rgba(248, 113, 113, 0.2);
      color: var(--danger);
      border: 1px solid var(--danger);
    }
    
    .alert-warning {
      background: rgba(250, 204, 21, 0.2);
      color: var(--warning);
      border: 1px solid var(--warning);
    }
    
    .spinner {
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-left: 3px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      display: inline-block;
      margin-left: 10px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* المحتوى الرئيسي */
    .main-content {
      display: none;
      height: 100%;
      flex-direction: column;
      /* تحسينات التمرير لـ WebView */
      overflow: hidden;
    }
    
    /* Header Styles - محسّن للهواتف */
    header {
      position: fixed; 
      top: 0; 
      left: 0; 
      right: 0;
      height: var(--header-height);
      background: rgba(26, 36, 61, 0.95);
      backdrop-filter: blur(12px);
      display: flex; 
      align-items: center; 
      justify-content: space-between;
      z-index: 100;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
      padding: 0 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.07);
    }
    
    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      gap: 10px;
    }
    
    .typing-text {
      position: relative; 
      min-width: 120px; 
      height: 35px; 
      overflow: hidden;
      text-align: center;
      flex: 1;
    }
    
    .typing-text span {
      position: absolute; 
      top: 0; 
      left: 0;
      opacity: 0; 
      transform: translateY(15px);
      transition: opacity 0.6s ease, transform 0.6s ease;
      width: 100%; 
      text-align: center;
      font-size: 1.1rem;
      font-weight: 700;
      background: linear-gradient(to right, #fff, #c0d4ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 2px 10px rgba(76, 201, 240, 0.3);
    }
    
    .typing-text span.active {
      opacity: 1; 
      transform: translateY(0); 
      z-index: 1;
    }
    
    /* User Info Styles - محسّن للهواتف */
    .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-shrink: 0;
    }
    
    .welcome-user {
      font-size: 0.9rem;
      font-weight: 600;
      background: linear-gradient(to right, #4cc9f0, #4361ee);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 100px;
    }
    
    .user-avatar {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1rem;
      flex-shrink: 0;
    }
    
    .logout-btn {
      background: rgba(248, 113, 113, 0.2);
      color: var(--danger);
      border: 1px solid var(--danger);
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-family: 'Cairo', sans-serif;
      font-weight: 600;
      transition: all 0.3s ease;
      font-size: 0.8rem;
      white-space: nowrap;
      flex-shrink: 0;
      /* تحسينات لـ WebView */
      -webkit-appearance: none;
      appearance: none;
    }
    
    .logout-btn:hover {
      background: rgba(248, 113, 113, 0.3);
      transform: translateY(-1px);
    }
    
    /* Main Content */
    main {
      margin-top: var(--header-height);
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      /* تحسينات التمرير لـ WebView */
      -webkit-overflow-scrolling: touch;
      overflow-scrolling: touch;
      overscroll-behavior: contain;
    }
    
    /* باقي الستايلات تبقى كما هي */
    .hero {
      background: linear-gradient(135deg, rgba(67, 97, 238, 0.2), rgba(114, 9, 183, 0.2));
      border-radius: 24px;
      padding: 40px 30px;
      text-align: center;
      margin-bottom: 20px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(15px);
      position: relative;
      overflow: hidden;
      min-height: 200px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(76, 201, 240, 0.1) 0%, transparent 70%);
      animation: pulse 8s infinite linear;
    }
    
    @keyframes pulse {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .hero h1 {
      font-size: 2.5rem;
      margin-bottom: 15px;
      background: linear-gradient(to right, #fff, #a0bfff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      position: relative;
      z-index: 1;
      line-height: 1.3;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }
    
    .hero p {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.3rem;
      line-height: 1.7;
      max-width: 800px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
      font-weight: 400;
    }
    
    .welcome-text {
      position: relative;
      text-align: center;
      margin-bottom: 30px;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .welcome-message {
      font-size: 2.2rem;
      font-weight: 700;
      background: linear-gradient(90deg, #4cc9f0, #4361ee, #7209b7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      position: relative;
      display: inline-block;
      padding: 0 20px;
    }
    
    .welcome-message::after {
      content: '|';
      animation: blink 1s infinite;
      margin-right: 5px;
      color: #4cc9f0;
    }
    
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }
    
    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .service-card {
      background: var(--card-bg);
      border-radius: 18px;
      padding: 20px;
      border: 1px solid var(--card-border);
      backdrop-filter: blur(12px);
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    }
    
    .service-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(67, 97, 238, 0.1), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .service-card:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
      border-color: rgba(76, 201, 240, 0.4);
    }
    
    .service-card:hover::before {
      opacity: 1;
    }
    
    .service-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 15px;
      font-size: 1.6rem;
      box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
      transition: all 0.3s ease;
      position: relative;
      z-index: 2;
    }
    
    .service-card:hover .service-icon {
      transform: scale(1.05) rotate(3deg);
      box-shadow: 0 10px 20px rgba(67, 97, 238, 0.5);
    }
    
    .service-title {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: white;
      position: relative;
      z-index: 2;
    }
    
    .service-description {
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.9rem;
      line-height: 1.5;
      margin-bottom: 15px;
      flex-grow: 1;
      position: relative;
      z-index: 2;
    }
    
    .service-action {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: auto;
      position: relative;
      z-index: 2;
    }
    
    .service-btn {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.85rem;
      pointer-events: auto;
      box-shadow: 0 3px 10px rgba(67, 97, 238, 0.3);
      position: relative;
      overflow: hidden;
      /* تحسينات لـ WebView */
      -webkit-appearance: none;
      appearance: none;
    }
    
    .service-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }
    
    .service-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(67, 97, 238, 0.4);
    }
    
    .service-btn:hover::before {
      left: 100%;
    }
    
    .service-status {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.8);
    }
    
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--success);
      box-shadow: 0 0 8px var(--success);
      animation: pulse-dot 2s infinite;
    }
    
    @keyframes pulse-dot {
      0% { box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.7); }
      70% { box-shadow: 0 0 0 6px rgba(74, 222, 128, 0); }
      100% { box-shadow: 0 0 0 0 rgba(74, 222, 128, 0); }
    }
    
    .status-dot.offline {
      background: var(--danger);
      box-shadow: 0 0 8px var(--danger);
      animation: pulse-dot-offline 2s infinite;
    }
    
    @keyframes pulse-dot-offline {
      0% { box-shadow: 0 0 0 0 rgba(248, 113, 113, 0.7); }
      70% { box-shadow: 0 0 0 6px rgba(248, 113, 113, 0); }
      100% { box-shadow: 0 0 0 0 rgba(248, 113, 113, 0); }
    }
    
    .features-section {
      background: rgba(255, 255, 255, 0.03);
      border-radius: 24px;
      padding: 30px 25px;
      margin-bottom: 30px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    
    .section-title {
      font-size: 1.5rem;
      margin-bottom: 20px;
      text-align: center;
      color: white;
      position: relative;
      display: inline-block;
      margin-right: auto;
      margin-left: auto;
      width: 100%;
      font-weight: 700;
    }
    
    .section-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      right: 50%;
      transform: translateX(50%);
      width: 70px;
      height: 3px;
      background: linear-gradient(to right, var(--primary), var(--accent));
      border-radius: 2px;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 20px;
    }
    
    .feature-item {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      padding: 18px;
      border-radius: 14px;
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.03);
    }
    
    .feature-item:hover {
      background: rgba(255, 255, 255, 0.06);
      transform: translateY(-3px);
    }
    
    .feature-icon {
      width: 50px;
      height: 50px;
      background: rgba(76, 201, 240, 0.15);
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      color: var(--accent);
      flex-shrink: 0;
      transition: all 0.3s ease;
    }
    
    .feature-item:hover .feature-icon {
      transform: scale(1.05);
      background: rgba(76, 201, 240, 0.25);
    }
    
    .feature-content h3 {
      font-size: 1.1rem;
      margin-bottom: 6px;
      color: white;
      font-weight: 600;
    }
    
    .feature-content p {
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.5;
    }
    
    footer {
      text-align: center;
      padding: 25px;
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.7);
      background: rgba(0, 0, 0, 0.2);
      border-top: 1px solid rgba(255, 255, 255, 0.05);
      margin-top: auto;
    }
    
    .service-card.popular-service {
      border: 1px solid rgba(255, 204, 0, 0.3);
      position: relative;
      overflow: visible;
    }
    
    .service-card.popular-service::after {
      content: 'مميز';
      position: absolute;
      top: -8px;
      left: 15px;
      background: linear-gradient(135deg, var(--warning), #f59e0b);
      color: #000;
      font-size: 0.7rem;
      font-weight: 700;
      padding: 3px 10px;
      border-radius: 15px;
      z-index: 3;
    }
    
    .loading {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 30px;
      color: rgba(255, 255, 255, 0.7);
    }
    
    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255, 255, 255, 0.1);
      border-left: 4px solid var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 10px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Responsive Design - محسّن أكثر للهواتف */
    @media screen and (max-width: 768px) {
      :root {
        --header-height: 60px;
      }
      
      header {
        padding: 0 10px;
        height: 60px;
      }
      
      .header-content {
        gap: 8px;
      }
      
      .typing-text {
        min-width: 100px;
        height: 30px;
      }
      
      .typing-text span {
        font-size: 1rem;
      }
      
      .user-info {
        gap: 8px;
      }
      
      .welcome-user {
        font-size: 0.8rem;
        max-width: 80px;
      }
      
      .user-avatar {
        width: 30px;
        height: 30px;
        font-size: 0.9rem;
      }
      
      .logout-btn {
        padding: 5px 10px;
        font-size: 0.75rem;
      }
      
      .login-container {
        padding: 30px 20px;
        margin: 10px;
      }
      
      .login-logo {
        font-size: 2.8rem;
      }
      
      .login-title {
        font-size: 1.5rem;
      }
      
      main {
        padding: 15px;
        margin-top: 60px;
      }
      
      .hero {
        padding: 25px 20px;
        min-height: 170px;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .hero p {
        font-size: 1.1rem;
      }
      
      .welcome-message {
        font-size: 1.8rem;
      }
      
      .services-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .service-card {
        padding: 18px;
      }
      
      .service-icon {
        width: 55px;
        height: 55px;
        font-size: 1.5rem;
      }
    }
    
    @media screen and (max-width: 480px) {
      :root {
        --header-height: 55px;
      }
      
      header {
        height: 55px;
        padding: 0 8px;
      }
      
      .typing-text {
        min-width: 80px;
        height: 25px;
      }
      
      .typing-text span {
        font-size: 0.9rem;
      }
      
      .welcome-user {
        font-size: 0.75rem;
        max-width: 60px;
        display: none; /* إخفاء النص في الشاشات الصغيرة جداً */
      }
      
      .user-avatar {
        width: 28px;
        height: 28px;
        font-size: 0.8rem;
      }
      
      .logout-btn {
        padding: 4px 8px;
        font-size: 0.7rem;
      }
      
      .login-container {
        padding: 25px 15px;
      }
      
      .login-logo {
        font-size: 2.2rem;
      }
      
      .login-title {
        font-size: 1.3rem;
      }
      
      main {
        padding: 12px;
        margin-top: 55px;
      }
      
      .hero {
        padding: 20px 15px;
        min-height: 150px;
      }
      
      .hero h1 {
        font-size: 1.7rem;
      }
      
      .hero p {
        font-size: 1rem;
      }
      
      .welcome-message {
        font-size: 1.5rem;
        padding: 0 10px;
      }
      
      .service-card {
        padding: 16px;
      }
      
      .service-icon {
        width: 50px;
        height: 50px;
        font-size: 1.4rem;
      }
      
      .service-title {
        font-size: 1.1rem;
      }
      
      .service-btn {
        padding: 7px 14px;
        font-size: 0.8rem;
      }
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .service-card, .feature-item {
      animation: fadeInUp 0.5s ease forwards;
    }
    
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.1);
    }
    
    ::-webkit-scrollbar-thumb {
      background: rgba(67, 97, 238, 0.4);
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(67, 97, 238, 0.6);
    }
  </style>
</head>

<body>
  <!-- شاشة الافتتاح -->
  <div class="splash-screen" id="splashScreen">
    <div class="logo-container">
      <div class="logo">أور</div>
      <div class="typing-text-splash">
        <span id="typingText">مكتب أور للخدمات الإلكترونية</span>
      </div>
    </div>
    <div class="loading-bar">
      <div class="loading-progress" id="loadingProgress"></div>
    </div>
    <div class="loading-text" id="loadingText">جاري التحميل...</div>
    <div class="version">الإصدار 2.3</div>
  </div>

  <!-- شاشة تسجيل الدخول -->
  <div class="login-screen" id="loginScreen">
    <div class="login-container">
      <div class="login-logo">أور</div>
      <h1 class="login-title" id="loginTitle">تسجيل الدخول</h1>
      
      <div id="alertContainer"></div>
      
      <form id="authForm">
        <div class="form-group">
          <label for="email">البريد الإلكتروني</label>
          <input type="email" id="email" class="form-control" required placeholder="example@email.com">
        </div>
        
        <div class="form-group">
          <label for="password">كلمة المرور</label>
          <input type="password" id="password" class="form-control" required placeholder="********">
        </div>
        
        <div class="remember-me">
          <input type="checkbox" id="rememberMe" checked>
          <label for="rememberMe">تذكرني على هذا الجهاز</label>
        </div>
        
        <button type="submit" class="submit-btn" id="submitBtn">
          <span id="submitText">تسجيل الدخول</span>
          <div class="spinner" id="formSpinner" style="display: none;"></div>
        </button>
      </form>
      
      <div>
        <span id="toggleText">ليس لديك حساب؟ </span>
        <span class="toggle-form" id="toggleForm">إنشاء حساب</span>
      </div>
    </div>
  </div>

  <!-- المحتوى الرئيسي -->
  <div class="main-content" id="mainContent">
    <header>
      <div class="header-content">
        <div class="typing-text" aria-live="polite" aria-atomic="true">
          <span class="active">مكتب أور</span>
          <span>للخدمات الإلكترونية</span>
          <span>نحن نعمل لخدمتكم</span>
          <span>24 ساعة</span>
          <span>على مدار الأسبوع</span>
        </div>
        
        <div class="user-info" id="userInfo">
          <div class="welcome-user" id="welcomeUser">مرحباً، أحمد!</div>
          <div class="user-avatar" id="userAvatar">أ</div>
          <button class="logout-btn" id="logoutBtn" title="تسجيل الخروج">
            <i class="fas fa-sign-out-alt"></i>
            <span class="logout-text">خروج</span>
          </button>
        </div>
      </div>
    </header>

    <main>
      <!-- نص التحية المتحرك -->
      <div class="welcome-text">
        <div class="welcome-message" id="welcomeMessage">مرحباً بكم في مكتب أور الإلكتروني</div>
      </div>
      
      <section class="hero">
        <h1>مكتب أور للخدمات الإلكترونية</h1>
        <p>نقدم لكم مجموعة متكاملة من الخدمات الإلكترونية بأعلى معايير الجودة والاحترافية</p>
      </section>
      
      <!-- قسم الخدمات -->
      <div class="features-section">
        <h2 class="section-title">خدماتنا</h2>
        <div id="buttons-container">
          <div class="loading">
            <div class="spinner"></div>
            <p>جاري تحميل الخدمات...</p>
          </div>
        </div>
      </div>
      
      <!-- قسم الميزات -->
      <div class="features-section">
        <h2 class="section-title">مميزات مكتب أور</h2>
        <div class="features-grid">
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <div class="feature-content">
              <h3>أمان وحماية</h3>
              <p>نضمن حماية بياناتك ومعاملاتك بأعلى معايير الأمان الإلكتروني</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-clock"></i>
            </div>
            <div class="feature-content">
              <h3>خدمة 24/7</h3>
              <p>خدمة عملاء متاحة على مدار الساعة طوال أيام الأسبوع</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-bolt"></i>
            </div>
            <div class="feature-content">
              <h3>سرعة في الأداء</h3>
              <p>إنجاز الخدمات في أسرع وقت ممكن مع الحفاظ على الجودة</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-hand-holding-usd"></i>
            </div>
            <div class="feature-content">
              <h3>أسعار تنافسية</h3>
              <p>أسعارنا مناسبة للجميع مع عروض وتخفيضات مستمرة</p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <p>جميع الحقوق محفوظة © مكتب أور 2025</p>
    </footer>
  </div>

  <script type="module">
    // كود Firebase الأصلي يبقى كما هو...
    // إعدادات Firebase للتسجيل (القاعدة الجديدة)
    const authFirebaseConfig = {
      apiKey: "AIzaSyCzpxIaiiwy-Fxl8iDICAITfj8mpFrYWhk",
      authDomain: "iraq-b3faf.firebaseapp.com",
      projectId: "iraq-b3faf",
      storageBucket: "iraq-b3faf.firebasestorage.app",
      messagingSenderId: "37770666033",
      appId: "1:37770666033:web:359a45537323485d0a3510",
      measurementId: "G-BWMXLSKECR"
    };

    // إعدادات Firebase للخدمات (القاعدة القديمة)
    const servicesFirebaseConfig = {
      apiKey: "AIzaSyDQES1QM4s9yDJ49hldDwI_ictXZDciPCk",
      authDomain: "ur111-824e3.firebaseapp.com",
      projectId: "ur111-824e3",
      storageBucket: "ur111-824e3.appspot.com",
      messagingSenderId: "310052619923",
      appId: "1:310052619923:web:4f3a1f37932d4ca1506f66",
      measurementId: "G-7SMM3VWNT2"
    };

    // Import Firebase SDK
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
    import { 
      getAuth, 
      createUserWithEmailAndPassword, 
      signInWithEmailAndPassword, 
      signOut,
      onAuthStateChanged,
      setPersistence,
      browserSessionPersistence,
      browserLocalPersistence
    } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";
    import { 
      getFirestore, 
      doc, 
      getDoc, 
      setDoc,
      collection,
      addDoc
    } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js";

    // Initialize Firebase Apps
    const authApp = initializeApp(authFirebaseConfig, "authApp");
    const servicesApp = initializeApp(servicesFirebaseConfig, "servicesApp");
    
    const auth = getAuth(authApp);
    const authDb = getFirestore(authApp);
    const servicesDb = getFirestore(servicesApp);

    // عناصر DOM
    const splashScreen = document.getElementById('splashScreen');
    const loginScreen = document.getElementById('loginScreen');
    const mainContent = document.getElementById('mainContent');
    const loadingProgress = document.getElementById('loadingProgress');
    const loadingText = document.getElementById('loadingText');
    
    // عناصر نظام التسجيل
    const authForm = document.getElementById('authForm');
    const emailInput = document.getElementById('email');
    const passwordInput = document.getElementById('password');
    const rememberMe = document.getElementById('rememberMe');
    const submitBtn = document.getElementById('submitBtn');
    const submitText = document.getElementById('submitText');
    const formSpinner = document.getElementById('formSpinner');
    const toggleForm = document.getElementById('toggleForm');
    const toggleText = document.getElementById('toggleText');
    const loginTitle = document.getElementById('loginTitle');
    const alertContainer = document.getElementById('alertContainer');
    const userInfo = document.getElementById('userInfo');
    const welcomeUser = document.getElementById('welcomeUser');
    const userAvatar = document.getElementById('userAvatar');
    const logoutBtn = document.getElementById('logoutBtn');
    const welcomeMessage = document.getElementById('welcomeMessage');
    const buttonsContainer = document.getElementById('buttons-container');

    let isLoginMode = true;
    let current = 0;

    // دالة لتحديث شريط التقدم
    function updateProgress(percent) {
      loadingProgress.style.width = percent + '%';
    }

    // دالة محسنة لإخفاء شاشة الافتتاح
    function hideSplashScreen() {
      splashScreen.classList.add('hidden');
      setTimeout(() => {
        splashScreen.style.display = 'none';
        // التحقق من وجود مستخدم مسجل مسبقاً
        checkExistingAuth();
      }, 800);
    }

    // التحقق من المصادقة الحالية
    function checkExistingAuth() {
      const user = auth.currentUser;
      if (user) {
        // يوجد مستخدم مسجل، تحميل البيانات مباشرة
        handleUserAuth(user);
      } else {
        // لا يوجد مستخدم مسجل، عرض شاشة التسجيل
        loginScreen.style.display = 'flex';
      }
    }

    // محاكاة تحميل محسنة مع معالجة الأخطاء
    function simulateLoading() {
      let progress = 0;
      const interval = setInterval(() => {
        progress += Math.random() * 15;
        if (progress >= 100) {
          progress = 100;
          clearInterval(interval);
          updateProgress(progress);
          loadingText.textContent = "جاهز!";
          
          // تأكيد إخفاء شاشة الافتتاح
          setTimeout(() => {
            hideSplashScreen();
          }, 500);
        } else {
          updateProgress(progress);
          
          if (progress >= 30) loadingText.textContent = "جاري تحميل البيانات...";
          if (progress >= 70) loadingText.textContent = "جاري تهيئة النظام...";
          if (progress >= 90) loadingText.textContent = "جاهز للتسجيل...";
        }
      }, 300);
    }

    // بدء محاكاة التحميل
    simulateLoading();

    // دالة لعرض التنبيهات
    function showAlert(message, type = 'danger') {
      alertContainer.innerHTML = `
        <div class="alert alert-${type}">
          ${message}
        </div>
      `;
    }

    // دالة لتبديل وضع النموذج
    function toggleAuthMode() {
      isLoginMode = !isLoginMode;
      
      if (isLoginMode) {
        loginTitle.textContent = 'تسجيل الدخول';
        submitText.textContent = 'تسجيل الدخول';
        toggleText.textContent = 'ليس لديك حساب؟ ';
        toggleForm.textContent = 'إنشاء حساب';
      } else {
        loginTitle.textContent = 'إنشاء حساب جديد';
        submitText.textContent = 'إنشاء حساب';
        toggleText.textContent = 'لديك حساب بالفعل؟ ';
        toggleForm.textContent = 'تسجيل الدخول';
      }
      
      authForm.reset();
      alertContainer.innerHTML = '';
      rememberMe.checked = true; // افتراضيًا مفعل
    }

    // دالة للتحقق من وجود مستخدم في قاعدة البيانات
    async function checkUserExists(userId) {
      try {
        const userDoc = await getDoc(doc(authDb, "users", userId));
        return userDoc.exists();
      } catch (error) {
        console.error('Error checking user existence:', error);
        return false;
      }
    }

    // دالة للتعامل مع مصادقة المستخدم
    async function handleUserAuth(user) {
      try {
        // التحقق من وجود المستخدم في قاعدة البيانات
        const userExists = await checkUserExists(user.uid);
        if (!userExists) {
          await signOut(auth);
          throw new Error('الحساب غير موجود في النظام');
        }
        
        // التحقق من حالة الموافقة
        const userDoc = await getDoc(doc(authDb, "users", user.uid));
        const userData = userDoc.data();
        
        if (userData.status !== 'approved') {
          await signOut(auth);
          throw new Error('حسابك قيد الانتظار. يرجى انتظار الموافقة من الإدارة');
        }
        
        // تسجيل الدخول الناجح
        loginScreen.style.display = 'none';
        mainContent.style.display = 'flex';
        updateUserUI(userData);
        loadButtonsData();
        
      } catch (error) {
        console.error('Error handling user auth:', error);
        loginScreen.style.display = 'flex';
        showAlert(error.message, 'warning');
      }
    }

    // دالة لتسجيل الدخول
    async function loginUser(email, password, remember) {
      try {
        // تعيين استمرارية الجلسة بناءً على خيار "تذكرني"
        const persistence = remember ? browserLocalPersistence : browserSessionPersistence;
        await setPersistence(auth, persistence);
        
        const userCredential = await signInWithEmailAndPassword(auth, email, password);
        const user = userCredential.user;
        
        await handleUserAuth(user);
        showAlert('تم تسجيل الدخول بنجاح!', 'success');
        
      } catch (error) {
        let errorMessage = 'حدث خطأ أثناء تسجيل الدخول';
        
        switch (error.code) {
          case 'auth/invalid-email':
            errorMessage = 'البريد الإلكتروني غير صحيح';
            break;
          case 'auth/user-disabled':
            errorMessage = 'هذا الحساب معطل';
            break;
          case 'auth/user-not-found':
            errorMessage = 'لا يوجد حساب بهذا البريد الإلكتروني';
            break;
          case 'auth/wrong-password':
            errorMessage = 'كلمة المرور غير صحيحة';
            break;
          default:
            errorMessage = error.message || errorMessage;
        }
        
        throw new Error(errorMessage);
      }
    }

    // دالة لتسجيل مستخدم جديد
    async function registerUser(email, password) {
      try {
        const userCredential = await createUserWithEmailAndPassword(auth, email, password);
        const user = userCredential.user;
        
        // حفظ بيانات المستخدم في Firestore
        await setDoc(doc(authDb, "users", user.uid), {
          username: email.split('@')[0],
          email: email,
          status: 'pending',
          registrationDate: new Date().toISOString(),
          approvedDate: null,
          approvedBy: null,
          createdAt: new Date().toISOString()
        });
        
        // إضافة طلب انتظار للموافقة
        await addDoc(collection(authDb, "pending_approvals"), {
          userId: user.uid,
          username: email.split('@')[0],
          email: email,
          requestDate: new Date().toISOString(),
          status: 'pending',
          createdAt: new Date().toISOString()
        });
        
        showAlert('تم إنشاء الحساب بنجاح! يرجى انتظار الموافقة من الإدارة', 'success');
        
        // تسجيل الخروج تلقائياً بعد إنشاء الحساب
        setTimeout(async () => {
          await signOut(auth);
          toggleAuthMode();
        }, 2000);
        
      } catch (error) {
        let errorMessage = 'حدث خطأ أثناء إنشاء الحساب';
        
        switch (error.code) {
          case 'auth/email-already-in-use':
            errorMessage = 'هذا البريد الإلكتروني مستخدم بالفعل';
            break;
          case 'auth/invalid-email':
            errorMessage = 'البريد الإلكتروني غير صحيح';
            break;
          case 'auth/weak-password':
            errorMessage = 'كلمة المرور ضعيفة. يجب أن تكون 6 أحرف على الأقل';
            break;
          default:
            errorMessage = error.message || errorMessage;
        }
        
        throw new Error(errorMessage);
      }
    }

    // دالة لتحديث واجهة المستخدم
    function updateUserUI(userData) {
      const displayName = userData.username || userData.email.split('@')[0];
      welcomeUser.textContent = `مرحباً، ${displayName}!`;
      userAvatar.textContent = displayName.charAt(0).toUpperCase();
      welcomeMessage.textContent = `مرحباً ${displayName} في مكتب أور الإلكتروني`;
    }

    // دالة للحصول على الأيقونة المناسبة بناءً على اسم الخدمة
    function getIconForService(serviceName) {
      const name = serviceName.toLowerCase();
      
      if (name.includes('دفع') || name.includes('مال') || name.includes('دفعة') || name.includes('فاتورة')) 
        return 'fas fa-credit-card';
      if (name.includes('استعلام') || name.includes('سؤال') || name.includes('معلومات')) 
        return 'fas fa-info-circle';
      if (name.includes('طلب') || name.includes('احتياج') || name.includes('شراء')) 
        return 'fas fa-clipboard-list';
      if (name.includes('تواصل') || name.includes('اتصال') || name.includes('دعم')) 
        return 'fas fa-headset';
      if (name.includes('حجز') || name.includes('موعد') || name.includes('مقابلة')) 
        return 'fas fa-calendar-check';
      if (name.includes('تسجيل') || name.includes('حساب') || name.includes('مستخدم')) 
        return 'fas fa-user-plus';
      
      return 'fas fa-concierge-bell';
    }

    // دالة لإنشاء وصف عشوائي للخدمة
    function generateServiceDescription(serviceName) {
      const descriptions = [
        "خدمة سريعة وآمنة لتلبية احتياجاتك",
        "إنجاز في أسرع وقت مع ضمان الجودة",
        "خدمة متكاملة بدعم فني مستمر",
        "حلول مبتكرة لمتطلباتك الإلكترونية",
        "تجربة مستخدم متميزة وسهلة الاستخدام",
        "دعم فني متاح على مدار الساعة",
        "أسعار تنافسية وجودة عالية",
        "حلول متكاملة لجميع احتياجاتك"
      ];
      return descriptions[Math.floor(Math.random() * descriptions.length)];
    }

    // دالة لتحميل الخدمات من Firebase
    async function loadButtonsData() {
      try {
        const docRef = doc(servicesDb, "serviceControl", "buttonsData");
        const snapshot = await getDoc(docRef);
        const data = snapshot.exists() ? snapshot.data().buttons : [];
        
        console.log("تم تحميل البيانات من قاعدة الخدمات:", data);
        
        renderButtons(Array.isArray(data) ? data : []);
      } catch (err) {
        console.error("Firebase load error:", err);
        buttonsContainer.innerHTML = '<p style="color:lightgray; text-align:center; padding: 20px;">حدث خطأ في تحميل الخدمات.</p>';
      }
    }

    // دالة لعرض الخدمات
    function renderButtons(buttonsData) {
      buttonsContainer.innerHTML = '';
      
      if (!buttonsData.length) {
        buttonsContainer.innerHTML = '<p style="color:lightgray; text-align:center; padding: 20px;">لا توجد خدمات حالياً.</p>';
        return;
      }
      
      const servicesGrid = document.createElement('div');
      servicesGrid.className = 'services-grid';
      
      buttonsData.forEach((btn, index) => {
        if (!btn.active) return;
        
        const serviceCard = document.createElement('div');
        serviceCard.className = 'service-card';
        serviceCard.style.animationDelay = `${index * 0.1}s`;
        
        if (btn.popular) {
          serviceCard.classList.add('popular-service');
        }
        
        const serviceIcon = document.createElement('div');
        serviceIcon.className = 'service-icon';
        const iconElement = document.createElement('i');
        iconElement.className = getIconForService(btn.name || 'خدمة');
        serviceIcon.appendChild(iconElement);
        
        const serviceTitle = document.createElement('h3');
        serviceTitle.className = 'service-title';
        serviceTitle.textContent = btn.name || 'خدمة';
        
        const serviceDescription = document.createElement('p');
        serviceDescription.className = 'service-description';
        serviceDescription.textContent = btn.description || generateServiceDescription(btn.name || 'خدمة');
        
        const serviceAction = document.createElement('div');
        serviceAction.className = 'service-action';
        
        const serviceBtn = document.createElement('button');
        serviceBtn.className = 'service-btn';
        serviceBtn.innerHTML = `${btn.paused ? 'غير متاح' : 'استخدم الخدمة'} <i class="fas fa-arrow-left"></i>`;
        
        const serviceStatus = document.createElement('div');
        serviceStatus.className = 'service-status';
        const statusDot = document.createElement('div');
        statusDot.className = `status-dot ${btn.paused ? 'offline' : ''}`;
        const statusText = document.createElement('span');
        statusText.textContent = btn.paused ? 'غير متاح' : 'متاح الآن';
        
        serviceStatus.appendChild(statusDot);
        serviceStatus.appendChild(statusText);
        
        serviceAction.appendChild(serviceBtn);
        serviceAction.appendChild(serviceStatus);
        
        serviceCard.appendChild(serviceIcon);
        serviceCard.appendChild(serviceTitle);
        serviceCard.appendChild(serviceDescription);
        serviceCard.appendChild(serviceAction);
        
        if (!btn.paused) {
          serviceCard.onclick = () => btn.url && window.open(btn.url, '_blank');
          serviceBtn.onclick = (e) => {
            e.stopPropagation();
            btn.url && window.open(btn.url, '_blank');
          };
        } else {
          serviceCard.style.cursor = 'not-allowed';
          serviceCard.style.opacity = '0.7';
          serviceBtn.style.background = 'var(--gray)';
          serviceBtn.style.cursor = 'not-allowed';
          
          serviceCard.onclick = (e) => {
            e.preventDefault();
            alert('عذراً، هذه الخدمة مؤقتاً غير متوفرة');
          };
          
          serviceBtn.onclick = (e) => {
            e.stopPropagation();
            e.preventDefault();
            alert('عذراً، هذه الخدمة مؤقتاً غير متوفرة');
          };
        }
        
        servicesGrid.appendChild(serviceCard);
      });
      
      buttonsContainer.appendChild(servicesGrid);
    }

    // معالجة إرسال النموذج
    authForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const email = emailInput.value.trim();
      const password = passwordInput.value;
      const remember = rememberMe.checked;
      
      if (!email || !password) {
        showAlert('يرجى ملء جميع الحقول');
        return;
      }
      
      if (password.length < 6) {
        showAlert('كلمة المرور يجب أن تكون 6 أحرف على الأقل');
        return;
      }
      
      submitText.style.display = 'none';
      formSpinner.style.display = 'inline-block';
      submitBtn.disabled = true;
      
      try {
        if (isLoginMode) {
          await loginUser(email, password, remember);
        } else {
          await registerUser(email, password);
        }
      } catch (error) {
        showAlert(error.message);
      } finally {
        submitText.style.display = 'inline';
        formSpinner.style.display = 'none';
        submitBtn.disabled = false;
      }
    });

    // أحداث النقر
    toggleForm.addEventListener('click', toggleAuthMode);
    
    logoutBtn.addEventListener('click', async () => {
      try {
        await signOut(auth);
        showAlert('تم تسجيل الخروج بنجاح', 'success');
      } catch (error) {
        console.error('Error signing out:', error);
        showAlert('حدث خطأ أثناء تسجيل الخروج');
      }
    });

    // مراقبة حالة المصادقة
    onAuthStateChanged(auth, (user) => {
      if (user) {
        handleUserAuth(user);
      } else {
        loginScreen.style.display = 'flex';
        mainContent.style.display = 'none';
      }
    });

    // حركة النص الترحيبي
    const welcomeMessages = [
      "مرحباً بكم في مكتب أور الإلكتروني",
      "نحن هنا لخدمتكم على مدار الساعة",
      "أفضل الخدمات الإلكترونية بين يديك",
      "نسعى دائماً لرضاكم وتلبية احتياجاتكم"
    ];
    
    let welcomeIndex = 0;
    
    function changeWelcomeMessage() {
      welcomeMessage.style.opacity = 0;
      setTimeout(() => {
        welcomeIndex = (welcomeIndex + 1) % welcomeMessages.length;
        welcomeMessage.textContent = welcomeMessages[welcomeIndex];
        welcomeMessage.style.opacity = 1;
      }, 500);
    }
    
    setInterval(changeWelcomeMessage, 5000);

    // حركة الشريط العلوي
    const texts = document.querySelectorAll('.typing-text span');
    setInterval(() => {
      texts[current].classList.remove('active');
      current = (current + 1) % texts.length;
      texts[current].classList.add('active');
    }, 4000);

    // إضافة أيقونة لتسجيل الخروج في الهواتف
    const logoutText = logoutBtn.querySelector('.logout-text');
    window.addEventListener('resize', () => {
      if (window.innerWidth <= 480) {
        logoutText.style.display = 'none';
      } else {
        logoutText.style.display = 'inline';
      }
    });

    // تطبيق التغيير مباشرة عند التحميل
    if (window.innerWidth <= 480) {
      logoutText.style.display = 'none';
    }

    // ===========================================
    // تحسينات خاصة لـ WebView
    // ===========================================

    // منع التمرير الأفقي في WebView
    document.addEventListener('touchmove', function(e) {
      if (e.touches.length > 1) {
        e.preventDefault();
      }
    }, { passive: false });

    // تحسين التمرير في iOS WebView
    if (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) {
      document.body.style.webkitOverflowScrolling = 'touch';
      document.body.style.overflow = 'auto';
    }

    // إصلاح التمرير في Android WebView
    if (navigator.userAgent.toLowerCase().indexOf('android') > -1) {
      let startY = 0;
      
      document.addEventListener('touchstart', function(e) {
        startY = e.touches[0].clientY;
      }, { passive: true });
      
      document.addEventListener('touchmove', function(e) {
        const touchY = e.touches[0].clientY;
        const diffY = startY - touchY;
        
        // إذا كان التمرير أفقيًا، منعه
        if (Math.abs(diffY) < Math.abs(e.touches[0].clientX - startY)) {
          e.preventDefault();
        }
      }, { passive: false });
    }

    // إضافة class للعناصر القابلة للتمرير
    const scrollableElements = document.querySelectorAll('main, .login-screen');
    scrollableElements.forEach(el => {
      el.classList.add('scrollable');
    });

    console.log('WebView scroll enhancements applied');
  </script>
</body>
</html>
